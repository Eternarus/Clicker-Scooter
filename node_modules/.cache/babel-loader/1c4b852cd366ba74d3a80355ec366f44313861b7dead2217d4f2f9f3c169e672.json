{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Spell(_ref){let{setSpellDuration,spellDuration,num,setClonNum}=_ref;const[kdSeconds,setKdSeconds]=useState(180);const[kdDuration,setKdDuration]=useState(false);const[seconds,setSeconds]=useState(0);const handleSpellButtonClick=()=>{setClonNum(num);setSpellDuration(true);setSeconds(10);};const spellOff=()=>{setSpellDuration(false);setKdDuration(true);setClonNum(0);setSeconds(180);};const spellOn=()=>{setKdDuration(false);setSpellDuration(true);};useEffect(()=>{if(spellDuration){setTimeout(()=>{spellOff();},10000);}if(kdDuration){setTimeout(()=>{spellOn();},180000);}},[spellDuration,kdDuration]);useEffect(()=>{let countdown;if(spellDuration||kdDuration){countdown=setInterval(()=>{setSeconds(prevSeconds=>prevSeconds-1);},1000);}if(seconds<0){clearInterval(countdown);}return()=>clearInterval(countdown);},[spellDuration]);return/*#__PURE__*/_jsx(\"div\",{className:\"spells\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"spell spellBtn\",disabled:kdDuration,onClick:handleSpellButtonClick,children:[\"x2 damage\",/*#__PURE__*/_jsx(\"br\",{}),\" \",seconds===0?'':\"Длительность: \"+seconds]})});}export default Spell;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Spell","_ref","setSpellDuration","spellDuration","num","setClonNum","kdSeconds","setKdSeconds","kdDuration","setKdDuration","seconds","setSeconds","handleSpellButtonClick","spellOff","spellOn","setTimeout","countdown","setInterval","prevSeconds","clearInterval","className","children","disabled","onClick"],"sources":["C:/Users/mrdrd/OneDrive/Рабочий стол/Project/clicker/clicker/src/components/Spell.js"],"sourcesContent":["import React, {\r\n    useState,\r\n    useEffect\r\n} from 'react';\r\n\r\nfunction Spell({\r\n    setSpellDuration,\r\n    spellDuration,\r\n    num,\r\n    setClonNum\r\n}) {\r\n    const [kdSeconds, setKdSeconds] = useState(180);\r\n    const [kdDuration, setKdDuration] = useState(false);\r\n    const [seconds, setSeconds] = useState(0);\r\n\r\n    const handleSpellButtonClick = () => {\r\n        setClonNum(num);\r\n        setSpellDuration(true);\r\n        setSeconds(10);\r\n    };\r\n\r\n    const spellOff = () => {\r\n        setSpellDuration(false);\r\n        setKdDuration(true);\r\n        setClonNum(0);\r\n        setSeconds(180);\r\n    };\r\n\r\n    const spellOn = () => {\r\n        setKdDuration(false);\r\n        setSpellDuration(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (spellDuration) {\r\n            setTimeout(() => {\r\n                spellOff();\r\n            }, 10000);\r\n        }\r\n        if (kdDuration) {\r\n            setTimeout(() => {\r\n                spellOn();\r\n            }, 180000);\r\n        }\r\n    }, [spellDuration, kdDuration]);\r\n\r\n    useEffect(() => {\r\n        let countdown;\r\n\r\n        if (spellDuration || kdDuration) {\r\n            countdown = setInterval(() => {\r\n                setSeconds(prevSeconds => prevSeconds - 1);\r\n            }, 1000);\r\n        }\r\n\r\n        if (seconds < 0) {\r\n            clearInterval(countdown);\r\n        }\r\n\r\n        return () => clearInterval(countdown);\r\n    }, [spellDuration]);\r\n\r\n    return ( \r\n        <div className=\"spells\">\r\n            <button className={`spell spellBtn`} disabled={kdDuration} onClick={handleSpellButtonClick}>x2 damage<br/> {seconds === 0 ? '' : \"Длительность: \" + seconds}</button>\r\n        </div>\r\n    );\r\n  }\r\n  \r\n  export default Spell;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EACRC,QAAQ,CACRC,SAAS,KACN,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEf,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAKX,IALY,CACXC,gBAAgB,CAChBC,aAAa,CACbC,GAAG,CACHC,UACJ,CAAC,CAAAJ,IAAA,CACG,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,GAAG,CAAC,CAC/C,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAEzC,KAAM,CAAAkB,sBAAsB,CAAGA,CAAA,GAAM,CACjCP,UAAU,CAACD,GAAG,CAAC,CACfF,gBAAgB,CAAC,IAAI,CAAC,CACtBS,UAAU,CAAC,EAAE,CAAC,CAClB,CAAC,CAED,KAAM,CAAAE,QAAQ,CAAGA,CAAA,GAAM,CACnBX,gBAAgB,CAAC,KAAK,CAAC,CACvBO,aAAa,CAAC,IAAI,CAAC,CACnBJ,UAAU,CAAC,CAAC,CAAC,CACbM,UAAU,CAAC,GAAG,CAAC,CACnB,CAAC,CAED,KAAM,CAAAG,OAAO,CAAGA,CAAA,GAAM,CAClBL,aAAa,CAAC,KAAK,CAAC,CACpBP,gBAAgB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAEDP,SAAS,CAAC,IAAM,CACZ,GAAIQ,aAAa,CAAE,CACfY,UAAU,CAAC,IAAM,CACbF,QAAQ,CAAC,CAAC,CACd,CAAC,CAAE,KAAK,CAAC,CACb,CACA,GAAIL,UAAU,CAAE,CACZO,UAAU,CAAC,IAAM,CACbD,OAAO,CAAC,CAAC,CACb,CAAC,CAAE,MAAM,CAAC,CACd,CACJ,CAAC,CAAE,CAACX,aAAa,CAAEK,UAAU,CAAC,CAAC,CAE/Bb,SAAS,CAAC,IAAM,CACZ,GAAI,CAAAqB,SAAS,CAEb,GAAIb,aAAa,EAAIK,UAAU,CAAE,CAC7BQ,SAAS,CAAGC,WAAW,CAAC,IAAM,CAC1BN,UAAU,CAACO,WAAW,EAAIA,WAAW,CAAG,CAAC,CAAC,CAC9C,CAAC,CAAE,IAAI,CAAC,CACZ,CAEA,GAAIR,OAAO,CAAG,CAAC,CAAE,CACbS,aAAa,CAACH,SAAS,CAAC,CAC5B,CAEA,MAAO,IAAMG,aAAa,CAACH,SAAS,CAAC,CACzC,CAAC,CAAE,CAACb,aAAa,CAAC,CAAC,CAEnB,mBACIN,IAAA,QAAKuB,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnBtB,KAAA,WAAQqB,SAAS,iBAAmB,CAACE,QAAQ,CAAEd,UAAW,CAACe,OAAO,CAAEX,sBAAuB,CAAAS,QAAA,EAAC,WAAS,cAAAxB,IAAA,QAAI,CAAC,IAAC,CAACa,OAAO,GAAK,CAAC,CAAG,EAAE,CAAG,gBAAgB,CAAGA,OAAO,EAAS,CAAC,CACpK,CAAC,CAEZ,CAEA,cAAe,CAAAV,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}